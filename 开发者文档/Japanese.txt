LuckyStarsデスクトップテーマアプリのインターフェースと機能分析
設計されたインターフェース
このプロジェクトでは、3つの主要なインターフェースを設計しました。

MainWindow - 壁紙のメインディスプレイウィンドウ
Catcher - ファイルのドラッグ&ドロップによるキャプチャウィンドウ
システムトレイアイコン - 従来の意味でのウィンドウではなく、ユーザーインターフェイスとして存在します
各インターフェースの機能
1.メインウィンドウ
フルスクリーンの専用モードは壁紙を表示します
システムの壁紙を占めるスレッドは、デスクトップの下部に表示されます
画像形式とHTML形式の両方での壁紙再生をサポート
WebView2 コントロールを使用してピン留めし、HTML との対話をサポートします
ウィンドウ アイコンがタスク バーに表示されない
2.キャッチャー(キャプチャウィンドウ)
NotifyIcon の真上に表示されるように設計された透明なウィンドウ
ファイルのドラッグ動作を検出します
ドラッグアンドドロップファイルを受け取り、処理のためにメインウィンドウに渡します
ドラッグ アンド ドロップでファイルを受信できることを視覚的にフィードバックします
3.システムトレイアイコン
クリックして壁紙の再生/一時停止状態を切り替えます
右クリックして、終了オプションを含むメニューを表示します
Catcherウィンドウをアクティブにするためのドラッグアンドドロップファイル操作をサポート
プログラム要件との比較
プログラムの主な要件:
メインウィンドウ機能

✅ フルスクリーンエクスクルーシブモード
✅ システムの壁紙スレッドを占有します
✅ 画像とHTMLの再生をサポートします
✅ WebView2 コントロールはピン留めされたままで、HTML とのマウス操作をサポートします
✅ タスクバーにウィンドウアイコンが消える
NotifyIconインタラクション

✅ NotifyIconをクリックして、再生/一時停止を切り替えます
✅ 右クリックして終了メニューを表示します
✅ ファイルを NotifyIcon にドラッグして、Catcher ウィンドウを表示します
✅ 指定したフォルダにファイルをコピーして表示します
キャッチャー機能

✅ 透明なウィンドウが NotifyIcon のすぐ上に表示されます
✅ ファイルのドラッグを検出する
✅ ドラッグ アンド ドロップ ファイルのパスを取得し、それを MainWindow に渡して再生します
ファイルストレージ

✅ フラットストレージ+スマートリネーム
✅ これは、ドキュメントディレクトリのLuckyStarsWallpaperフォルダに保存されています
✅ ファイルの種類ごとに保存を分ける(画像/ html)
マルチモニターのサポート

✅ さまざまなDPIと画面レイアウトに自動的に適応します
✅ 異なるディスプレイに異なる壁紙を設定するためのサポート(機能強化)
壁紙管理

✅ システムがスリープ状態のときに壁紙の再生を一時停止する
✅ 画面の情報に応じて壁紙の明るさと色度を調整します
✅ パフォーマンスの最適化の強化 (フルスクリーン アプリの検出など)
フォーマット変換

✅ より多くのファイルタイプをサポートするための拡張フォーマット変換
✅ ビデオ変換をサポートするためにFFmpeg統合が追加されました
✅ 必要な依存関係の自動ダウンロード(サイレント操作)
概要
設計のインターフェースと機能は、計画の要件と完全に一致しており、次の側面でも強化されています。

複数のモニターのプレミアムサポートが追加され、異なるモニターに異なる壁紙を設定できるようになりました
システムステータスに基づいて壁紙の動作を自動的に調整するために、よりスマートなパフォーマンス最適化が追加されました
フォーマット変換機能が拡張され、より多くのファイルタイプの処理をサポートするようになりました
FFmpegのサイレントダウンロードと統合メカニズムを追加して、ビデオ処理能力を向上させました
システム統合の強化により、全画面表示アプリ、電源ステータスなどのシステムイベントに適切に対応
プロジェクトは次のとおりです。 .NET 8およびWPFフレームワーク開発、C#言語で実装、